{% extends "base_simple.html" %}

{% block title %}Lista de Clientes{% endblock %}

{% block content %}
<div class="header">
    <div>
        <h1>ğŸ“‹ Lista de Clientes</h1>
        <p>Gerencie todos os seus clientes cadastrados</p>
    </div>
    <a href="{{ url_for('new_client') }}" class="btn">â• Novo Cliente</a>
</div>

{% if clients %}
<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Nome da Empresa</th>
            <th>CNPJ</th>
            <th>Cidade</th>
            <th>ServiÃ§os</th>
            <th>AÃ§Ãµes</th>
        </tr>
    </thead>
    <tbody>
        {% for client in clients %}
        <tr>
            <td>{{ client.id }}</td>
            <td><strong>{{ client.nomeEmpresa or 'NÃ£o informado' }}</strong></td>
            <td>{{ client.cnpj or '-' }}</td>
            <td>{{ client.cidade or '-' }}</td>
            <td>
                {% if client.ct %}âœ… CT{% endif %}
                {% if client.fs %}âœ… FS{% endif %}
                {% if client.dp %}âœ… DP{% endif %}
            </td>
            <td>
                <a href="{{ url_for('view_client', client_id=client.id) }}" class="btn btn-success">ğŸ‘ï¸ Ver</a>
                <a href="{{ url_for('edit_client', client_id=client.id) }}" class="btn">âœï¸ Editar</a>
                <form method="post" action="{{ url_for('delete_client', client_id=client.id) }}" style="display: inline;">
                    <button type="submit" class="btn btn-danger" onclick="return confirm('Tem certeza que deseja deletar este cliente?')">ğŸ—‘ï¸ Deletar</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<div class="empty-state">
    <h3>ğŸ“‹ Nenhum cliente cadastrado</h3>
    <p>Comece adicionando seu primeiro cliente ao sistema.</p>
    <a href="{{ url_for('new_client') }}" class="btn">â• Adicionar Primeiro Cliente</a>
</div>
{% endif %}

<div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee; text-align: center; color: #666;">
    <p>ğŸ’¾ Sistema hÃ­brido: Leitura do Google Sheets | Backup local automÃ¡tico</p>
</div>
{% endblock %}
